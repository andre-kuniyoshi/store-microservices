@using System.Security.Claims

@if (User?.Identity is { IsAuthenticated: true })
{
    <ul class="navbar-nav">
        
        <li class="nav-item">
            <a class="nav-link" asp-controller="account" asp-action="register">
                Account
            </a>
        </li>

        <li class="nav-item">
            <form class="d-flex" asp-controller="Basket" asp-action="Index">
                <button class="btn btn-outline-dark" style="width:auto" type="submit">
                    <i class="bi-cart-fill me-1"></i>
                    Cart
                    <span class="badge bg-dark text-white ms-1 rounded-pill">@ViewData["CartItemsCount"]</span>
                </button>
            </form>
        </li>

        <li class="nav-item">
            <form class="nav-link pe-0" method="post" asp-controller="Authentication" asp-action="Logout">
                <button type="submit" style="width:auto"
                        class="nav-link btn btn-link py-0">
                    Logout @User.Identity.Name
                </button>
            </form>
        </li>
    </ul>
}
else
{
    @* <ul class="nav-item">
        <a class="nav-link" asp-controller="account" asp-action="register">
            Register
        </a>
    </ul> *@
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" asp-controller="Authentication" asp-action="Login">
                Login
            </a>
        </li>
    </ul>
}
